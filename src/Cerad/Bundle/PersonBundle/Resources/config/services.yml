# PersonBundle Services
parameters:

    # Did not work for alias
    cerad_person.entity_manager.doctrine.service: doctrine.orm.default_entity_manager

services:

    cerad_person.entity_manager.doctrine:
        alias: doctrine.orm.default_entity_manager

    cerad_person.person_repository.doctrine:
        class:  Cerad\Bundle\PersonBundle\Entity\PersonRepository
        factory_service: 'cerad_person.entity_manager.doctrine'
        factory_method:  'getRepository'
        arguments:  
            - 'Cerad\Bundle\PersonBundle\Entity\Person'

# ====================================================
# Data transformers
    cerad_person.aysor_id.data_transformer:
        class: Cerad\Bundle\PersonBundle\DataTransformer\AYSO\RegionIdTransformer
                        
    cerad_person.aysov_id.data_transformer:
        class: Cerad\Bundle\PersonBundle\DataTransformer\AYSO\VolunteerIdTransformer
        
    cerad_person.aysov_id.data_transformer.fake:
        class: Cerad\Bundle\PersonBundle\DataTransformer\AYSO\VolunteerIdTransformer
        arguments: [true]
        
    cerad_person.ussfs_id.data_transformer:
        class: Cerad\Bundle\PersonBundle\DataTransformer\USSF\StateIdTransformer
                        
    cerad_person.ussfc_id.data_transformer:
        class: Cerad\Bundle\PersonBundle\DataTransformer\USSF\ContractorIdTransformer
        
    cerad_person.ussfc_id.data_transformer.fake:
        class: Cerad\Bundle\PersonBundle\DataTransformer\USSF\ContractorIdTransformer
        arguments: [true]
        
    cerad_person.phone.datatransformer:
        class: Cerad\Bundle\PersonBundle\DataTransformer\PhoneTransformer
        
# ====================================================
# Constraints
    cerad_person.aysov_id.constraint:
        class: Cerad\Bundle\PersonBundle\ValidatorConstraint\AYSO\VolunteerIdConstraint
        
    cerad_person.ussfc_id.constraint:
        class: Cerad\Bundle\PersonBundle\ValidatorConstraint\USSF\ContractorIdConstraint
        
# ====================================================
# Form Types
    cerad_person.aysov_id.form_type:
        class: Cerad\Bundle\PersonBundle\DataTransformer\AYSO\VolunteerIdFormType
        
    cerad_person.aysov_id.form_type.fake:
        class: Cerad\Bundle\PersonBundle\DataTransformer\AYSO\VolunteerIdFormType
        arguments: [true]
